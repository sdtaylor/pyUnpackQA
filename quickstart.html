<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="img/favicon.ico">
        <title>Quickstart - pyUnpackQA</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/font-awesome.min.css" rel="stylesheet">
        <link href="css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="assets/_mkdocstrings.css" rel="stylesheet">

        <script src="js/jquery-1.10.2.min.js" defer></script>
        <script src="js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="index.html">pyUnpackQA</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="index.html" class="nav-link">About</a>
                            </li>
                            <li class="navitem active">
                                <a href="quickstart.html" class="nav-link">Quickstart</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Products' <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="Landsat.html" class="dropdown-item">Landsat</a>
</li>
                                    
<li>
    <a href="MODIS.html" class="dropdown-item">MODIS</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="api.html" class="nav-link">API Reference</a>
                            </li>
                            <li class="navitem">
                                <a href="https://github.com/sdtaylor/pyUnpackQA" class="nav-link">GitHub Repo</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                            <li class="nav-item">
                                <a rel="prev" href="index.html" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="Landsat.html" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#quickstart" class="nav-link">Quickstart</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#listing-available-sensor-flags-and-products" class="nav-link">Listing available sensor, flags, and products.</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#unpacking-to-an-array" class="nav-link">Unpacking to an array</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#unpacking-to-a-dictionary" class="nav-link">Unpacking to a dictionary</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="quickstart">Quickstart</h1>
<h2 id="listing-available-sensor-flags-and-products">Listing available sensor, flags, and products.</h2>
<p><code>pyUnpackQA.list_sensors()</code>,<code>pyUnpackQA.list_products()</code><br />
These list the available sensors and sensor data products, respectively. By default they list everything configured in the package. </p>
<p><code>pyUnpackQA.list_qa_flags()</code>
This lists the flags which are parsed from the QA bits. These match the Flag Name column in the product description tables. A product name must be specified here. For example:</p>
<pre><code>import numpy as np
from pyUnpackQA

pyUnpackQA.list_qa_flags('L8C2L2_QAPixel')

['Fill',
 'Dilated Cloud',
 'Cirrus',
 'Cloud',
 'Cloud Shadow',
 'Snow',
 'Clear',
 'Water',
 'Cloud Confidence',
 'Cloud Shadow Confidence',
 'Snow/Ice Confidence',
 'Cirrus Confidence']
</code></pre>
<h2 id="unpacking-to-an-array">Unpacking to an array</h2>
<p><code>pyUnpackQA.unpack_to_array(qa, flags='all')</code><br />
This will return the QA values of a numpy array or integer. The returned value will have an entry for all flags listed in the <code>flags</code> argument. By default <code>flags</code> is <code>all</code> which will return all flags listed in <code>list_qa_flags()</code>.</p>
<pre><code>pyUnpackQA.unpack_to_array(21284)
array([[0, 0, 1, 0, 0, 1, 0, 0, 3, 0, 1, 1]], dtype=uint8)

qa_array = np.array([[21284,0],[21284,0]])
qa_array.shape
(2,2)
pyUnpackQA.unpack_to_array(qa_array).shape
(2,2,12)
</code></pre>
<h2 id="unpacking-to-a-dictionary">Unpacking to a dictionary</h2>
<p><code>pyUnpackQAunpack_to_dict(qa, flags='all')</code><br />
This is similar to <code>unpack_to_array</code>, but instead of a stacked array for all flags, it returns a dictionary where the keys are the flag names, and the value for each key is the flag array. The shape of each array is the same as the input qa.shape. This is usefull when single pixels or time series of pixels are being used, as this can be put directly into a pandas DataFrame.</p>
<pre><code>qa_array = np.array([56598, 56598,0,0,56598])
pyUnpackQA.unpack_to_dict(qa_array)
{'Fill': array([0, 0, 0, 0, 0], dtype=uint8),
 'Dilated Cloud': array([1, 1, 0, 0, 1], dtype=uint8),
 'Cirrus': array([1, 1, 0, 0, 1], dtype=uint8),
 'Cloud': array([0, 0, 0, 0, 0], dtype=uint8),
 'Cloud Shadow': array([1, 1, 0, 0, 1], dtype=uint8),
 'Snow': array([0, 0, 0, 0, 0], dtype=uint8),
 'Clear': array([0, 0, 0, 0, 0], dtype=uint8),
 'Water': array([0, 0, 0, 0, 0], dtype=uint8),
 'Cloud Confidence': array([1, 1, 0, 0, 1], dtype=uint8),
 'Cloud Shadow Confidence': array([3, 3, 0, 0, 3], dtype=uint8),
 'Snow/Ice Confidence': array([1, 1, 0, 0, 1], dtype=uint8),
 'Cirrus Confidence': array([3, 3, 0, 0, 3], dtype=uint8)}

pyUnpackQA.unpack_to_dict(qa_array)['Cloud'].shape
(5,)
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = ".",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="js/base.js" defer></script>

        <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
